---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Navbar from '../components/Navbar.astro';
import Section from '../components/Section.astro';
import getNPMPackages from '../util/npm';
import ProjectCard from '../components/ProjectCard.astro';
import AboutCard from '../components/AboutCard.astro';


const npm = await getNPMPackages()

let currentDate = new Date() // calculates web dev and fullstack dev time
let currentYear = currentDate.getFullYear()

let dates = {
	startedWebDev: currentYear - 2019,
	startedFullStackDev: currentYear - 2020
}

let work = [
	{
		date: "2022",
		name: "Utilities",
		description: "Various utilities that might come in handy",
		url: "https://utilities.exerra.xyz"
	},
	{
		date: "2022",
		name: "Shortener",
		description: "Quick and secure URL service integrating Exerra Phishing Check for unparalleled user protection",
		url: "https://s.exerra.xyz"
	},
	{
		date: "2022",
		name: "Benchmarks",
		description: "GPU benchmarks for games ranging from indie platformers to AAA shooters.",
		url: "https://benchmarks.exerra.xyz"
	},
	{
		date: "2022",
		name: "Mod viewer",
		description: "Every game mod Exerra has published resides here",
		url: "https://mods.exerra.xyz"
	},
	{
		date: "2022",
		name: "Phishing API",
		description: "API for checking if links are known phishing attempts",
		url: "https://rapidapi.com/Exerra/api/exerra-phishing-check"
	},
	{
		date: "Since 2019",
		name: "Karen Bot",
		description: "Multi-purpose Discord bot featuring commands for server moderation, sub-reddits, Karen Bot profiles, Spotify songs/albums/artists and more",
		url: "https://karen.exerra.xyz"
	}
]

let knowledge = [
	{
		type: "Language",
		name: "HTML",
		used: "write the elements in a website"
	},
	{
		type: "Language",
		name: "CSS",
		used: "write the style a website"
	},
	{
		type: "Language",
		name: "Javascript",
		used: "write the interactive parts of a website"
	},
	{
		type: "Superset",
		name: "Typescript",
		used: "create applications with more safety than Javascript"
	},
	{
		type: "Framework",
		name: "NodeJS",
		used: "write the server code with Javascript"
	},
	{
		type: "Language",
		name: "Swift",
		used: "write native apps for the various OS's by Apple"
	},
	{
		type: "Framework",
		name: "React",
		used: "create highly-interactive web apps"
	},
	{
		type: "Framework",
		name: "Express",
		used: "create APIs"
	},
]

---

<Layout title="Exerra" description={`A full-stack developer from Latvia with ${dates.startedWebDev} of experience as a developer.`}>
	<div class={"h-screen"}>
		<Navbar />
		<header class="grid lg:grid-cols-2 mt-16 pt-52 lg:pt-16">
			<div>
				<Header />
			</div>
			<div class="my-auto ml-auto hidden lg:block">
				<img src="/1.png" height={600} width={600} />
			</div>
		</header>
	</div>

	<Section name="About me">
		<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
			<div class={"flex flex-wrap gap-6 transition ease-in-out"}>
				<AboutCard title="Bio">
					I am a full-stack developer from
					<a
						href="https://www.latvia.travel/en"
						target={"_blank"}
						class={"font-bold hoverable"}
					>Latvia
					</a>with {dates.startedWebDev} years of experience as a web developer and {dates.startedFullStackDev} years as a full-stack developer.
					I have also won <b>first place</b> in a <b>country-wide hackathon</b>.
				</AboutCard>
	
				<AboutCard title="Education">
					I am entirely self-taught from various resources, friends and massive amounts of StackOverflow
				</AboutCard>
	
				<AboutCard title="Hobbies">
					I have a professional education in music, so I also like to play the saxophone & piano sometimes. So far I haven't released any music, but who knows, that might change soon. Apart from music, I also enjoy playing video games (mostly stealth games and RPGs (Bethesda ones especially)).
				</AboutCard>
			</div>
			<div class="flex flex-col gap-6 lg:mx-12 align-middle mt-12 lg:my-auto">
				<blockquote class="text-4xl italic font-semibold text-grey-card">
					<svg aria-hidden="true" class="w-10 h-10 text-grey-card/80" viewBox="0 0 24 27" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.017 18L14.017 10.609C14.017 4.905 17.748 1.039 23 0L23.995 2.151C21.563 3.068 20 5.789 20 8H24V18H14.017ZM0 18V10.609C0 4.905 3.748 1.038 9 0L9.996 2.151C7.563 3.068 6 5.789 6 8H9.983L9.983 18L0 18Z" fill="currentColor"></path></svg>
					<p>What a fool you are, I'm a god! How can you kill a god? What a grand and intoxicating innocence! How could you be so naive? There is no escape, no recall or intervention can work in this place! Come! Lay down your weapons! It is not too late for my mercy...</p>
				</blockquote>
				<figcaption class="text-left text-4xl font-bold text-grey-card/110">
					<p>- Dagoth Ur<span class="text-grey-card">, Morrowind (2002)</span></p>
				</figcaption>
			</div>
		</div>
	</Section>

	<section class="bg-black mt-52 pb-12 md:pb-24 lg:pb-36 rounded-tl-[90px] rounded-br-[90px] text-beige text-left blackArea">
		<div class="grid md:grid-cols-1 lg:grid-cols-2">
			<div class={`mt-12 mx-8 mb-12 md:mt-24 md:mx-24 lg:mb-0 lg:mt-52 lg:ml-52 lg:mr-0`}>
				<h2 class="font-bold text-4xl md:text-6xl lg:text-8xl">My projects</h2>
				<p class="mt-10 text-3xl">
					I've built things ranging from NPM packages, websites, apps, APIs and more.
					<b>Here are a few of my favourite projects & my NPM packages</b>.
				</p>
			</div>
			<div class="hidden lg:block ml-auto">
				<img src="/2.png" height={700} width={700} class="h-[400px] w-[400px] lg:h-[400px] lg:w-[400px] xl:h-[600px] xl:w-[600px] 2xl:h-[700px] 2xl:w-[700px]" />
			</div>
		</div>

		<section class="mt-12 mx-8 mb-12 md:mx-24 lg:mx-52">
			<div>
				<h3 class="font-bold text-3xl md:text-5xl lg:text-6xl mb-12">Websites & APIs</h3>
				<div class={"flex flex-wrap gap-7 text-left"}>
					{work.map(({ date, name, description, url }) => (
						<ProjectCard 
							date={date} 
							name={name} 
							description={description} 
							href={url} 
							label={"Visit the project"} 
						/>
					))}
				</div>
			</div>

			<div class="mt-24">
				<h3 class="font-bold text-3xl md:text-5xl lg:text-6xl mb-12">NPM packages</h3>
				<div class={"flex flex-wrap gap-7 text-left"}>
					{npm.packages.objects.map(({ created, name, description }) => (
						<ProjectCard 
							date={new Date(created.ts).getFullYear()} 
							name={name} 
							description={description} 
							href={`https://npmjs.com/package/${name}`} 
							label={"Visit the project"} 
						/>
					))}
				</div>
			</div>
		</section>
	</section>

	<Section name="Knowledge">
		<div class={"flex gap-6 flex-wrap"}>
			{knowledge.map(knowledge => (
				<div class={"w-full basis-1/3 grow lg:basis-1/5 shadow-2xl bg-grey-card text-beige rounded-[35px] p-6"}>
					<h2 class="text-3xl font-bold">{knowledge.name}</h2>
					<hr class="border-2 border-beige rounded-xl my-2" />
					<h3 class={"text-xl font-bold"}>{knowledge.type} used in development to {knowledge.used}</h3>
				</div>
			))}
		</div>
	</Section>
</Layout>
<style is:global>
	.link-underline {
		border-bottom-width: 0;
		background-image: linear-gradient(transparent, transparent), linear-gradient(#fff, #fff);
		background-size: 0 3px;
		background-position: 0% 100%;
		background-repeat: no-repeat;
		transition: background-size 150ms ease-in-out;
	}

	.link-underline-black {
		background-image: linear-gradient(transparent, transparent), linear-gradient(#F2EDE3, #F2EDE3);
	}

	.link-underline:hover {
		background-size: 130% 3px;
		background-position: 0% 100%;
	}
</style>